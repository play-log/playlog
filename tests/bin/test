#!/usr/bin/env python3
import os
import sys
import unittest


DISCOVER_START_DIR = os.path.join(os.path.dirname(__file__), '../src/tests')
DISCOVER_PATTERN = '*.py'


def main():
    loader = unittest.TestLoader()
    tests = loader.discover(DISCOVER_START_DIR, DISCOVER_PATTERN)
    runner = unittest.runner.TextTestRunner()
    result = runner.run(tests)
    sys.exit(0 if result.wasSuccessful() else 1)


if __name__ == '__main__':
    main()
